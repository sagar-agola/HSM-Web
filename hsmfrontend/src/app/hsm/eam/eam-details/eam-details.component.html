<div *loadingIndicator="isLoading"></div>
<div class="bg-gray-200 min-vh-150" id="ui-container">
    <div class="panel panel-default">
        <div class="panel-body" id="criticalityInfo">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a routerLink="/main/dashboard">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">View EAM Maintenance Plan Package Details</li>
                </ol>
            </nav>
        </div>
    </div>
    <div class="panel-body2">
        <div class="row">
            <div class="col-4">
                <h6 style="font-size: 14px;">Asset Hierarchy:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ code }}</span></h6>
            </div>
            <div class="col-4">
                <h6 style="font-size: 14px;">Asset Description:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ hierarchyDesc }}</span></h6>
            </div>
            <div class="col-4">
                <h6 style="font-size: 14px;">Planner Group:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ plannerGroup }}</span></h6>
            </div>
        </div>
        <div class="row">
            <div class="col-4">
                <h6 style="font-size: 14px;">Maint Item Text:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ maintItemText }}</span></h6>
            </div>
            <div class="col-4">
                <h6 style="font-size: 14px;">Maint Item:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ maintItem }}</span></h6>
            </div>
            <div class="col-4">
                <h6 style="font-size: 14px;">TaskList Id:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ taskListId }}</span></h6>
            </div>
        </div>
        <div class="row">
            <div class="col-4">
                <h6 style="font-size: 14px;">Maintenance Plan Id:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ maintPlanId }}</span></h6>
            </div>
            <div class="col-4">
                <h6 style="font-size: 14px;">Main WorkCtr:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ mainWorkCtr }}</span></h6>
            </div>
            <div class="col-4">
                <h6 style="font-size: 14px;">Planner Plant:<span class="text-gray-500 text-small" style="padding-left: 10px;">{{ planningPlant }}</span></h6>
            </div>
        </div>
    </div>
    <div class="panel-body">
        <span class="text-gray-500 text-small" style="padding-left: 10px; padding-bottom: 10px;">Task List</span>
        <div class="table-responsive">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>

                <ng-container matColumnDef="sequenceNo">
                    <th mat-header-cell *matHeaderCellDef> Sequence No. </th>
                    <td mat-cell *matCellDef="let element"> {{element.sequenceNo}} 
                        <!-- <mat-icon cdkDragHandle>reorder</mat-icon> -->
                    </td>
                </ng-container>

                <ng-container matColumnDef="taskIdentificationNo">
                    <th mat-header-cell *matHeaderCellDef> Task Id </th>
                    <td mat-cell *matCellDef="let element"><button type="button" class="btn btn-link" (click)="goToFMEAEdit(element.id)" style="font-size: 11px;">{{element.taskIdentificationNo}} </button></td>
                    <!-- <td mat-cell *matCellDef="let element">
                        <mat-icon cdkDragHandle>reorder</mat-icon>
                    </td> -->
                </ng-container>

                <ng-container matColumnDef="taskDescription">
                    <th mat-header-cell *matHeaderCellDef> Task Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.taskDescription}} </td>
                </ng-container>

                <ng-container matColumnDef="acceptableLimits">
                    <th mat-header-cell *matHeaderCellDef> Acceptable Limits </th>
                    <td mat-cell *matCellDef="let element"> {{element.acceptableLimits}} </td>
                </ng-container>

                <ng-container matColumnDef="correctiveActions">
                    <th mat-header-cell *matHeaderCellDef> Corrective Actions </th>
                    <td mat-cell *matCellDef="let element"> {{element.correctiveActions}} </td>
                </ng-container>

                <ng-container matColumnDef="taskTypeName">
                    <th mat-header-cell *matHeaderCellDef> Task Type </th>
                    <td mat-cell *matCellDef="let element"> {{element.taskTypeName}} </td>
                </ng-container>

                <ng-container matColumnDef="frequencyName">
                    <th mat-header-cell *matHeaderCellDef> Interval </th>
                    <td mat-cell *matCellDef="let element"> {{element.frequencyName}} </td>
                </ng-container>

                <ng-container matColumnDef="noRecord">
                    <td class="border-none text-center mx-auto" mat-footer-row *matFooterCellDef colspan=8>
          
                      <img src="./../../../../assets/images/empty-cabinet-with-checkmark.png" alt="Folder with magnifying glass" class="mb-2 mt-4" *ngIf="default2">
                      <img src="./../../../../assets/images/empty-cabinet-with-checkmark.png" alt="Folder with no results" class="mb-2 mt-4" *ngIf="!default2">
                      <br>
                      <span class="text-gray-500 text-base" *ngIf="default2">No records displayed.</span>
                      <span class="text-gray-500 text-base" *ngIf="!default2">No records displayed.</span>

                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="['noRecord']" [ngClass]="{'hide':!(ELEMENT_DATA!=null && ELEMENT_DATA.length==0 && !loading)}"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[10, 25, 50, 100, 500, 1000]" showFirstLastButtons></mat-paginator>
        </div>
    </div>
</div>