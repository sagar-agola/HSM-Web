<div *loadingIndicator="isLoading"></div>
<div class="min-vh-100" id="ui-container" style="padding-bottom: 10px; background-color: #e9ecef !important; overflow-x: hidden;">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/main/dashboard"><i class="material-icons">home</i></a></li>
        <li class="breadcrumb-item active" style="font-size: 14px;"><a routerLink="/main/asset-task-group-strategy">Site Task Group Strategies</a></li>
        <li class="breadcrumb-item active" aria-current="page" style="font-size: 14px;">Create Site Task Group Strategy</li>
      </ol>
    </nav>
    <mat-tab-group animationDuration="0ms" #tabGroup style="padding-top: 10px;" [selectedIndex]="selectedIndex">
        <mat-tab label="Create Task Group Strategy" [(activeId)]="activeId" >
            <br>
            <div class="row">
                <div class="col">
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title">Work Instruction Title Generation</h6>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <label class="st-label">Frequency<span style="color: red;">*</span></label>
                                        <select class="form-control" id="frequencyId" [(ngModel)]="this.frequencyId"
                                            [ngModelOptions]="{standalone: true}" (change)="frequencyOnSelect($event)"
                                            style="font-size: 12px;" required>
                                            <option value=""></option>
                                            <option *ngFor="let tk of frequencyList" [value]="tk.id">{{
                                                tk.frequencyName }}</option>
                                        </select>
                                        <div *ngIf="isInvalid"><span style="color: red;">Please fill required field</span></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Trade Type<span style="color: red;">*</span></label>
                                        <select class="form-control" id="tradeTypeId" [(ngModel)]="this.tradeTypeId"
                                            [ngModelOptions]="{standalone: true}" (change)="tradeTypeOnSelect($event)"
                                            style="font-size: 12px;" required>
                                            <option value=""></option>
                                            <option *ngFor="let tk of tradeTypeList" [value]="tk.id">{{
                                                tk.tradeTypeName }}</option>
                                        </select>
                                        <div *ngIf="isInvalid"><span style="color: red;">Please fill required field</span></div>
                                    </div>
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-9">
                                                <label class="st-label" *ngIf="!isRoute">Asset Class<span style="color: red;">*</span></label>
                                                <select class="form-control" id="assetClassId" *ngIf="!isRoute"
                                                    [(ngModel)]="this.assetClassId"
                                                    [ngModelOptions]="{standalone: true}" (change)="assetClassOnSelect($event)"
                                                    style="font-size: 12px;" required>
                                                    <option value=""></option>
                                                    <option *ngFor="let tk of assetClassList" [value]="tk.id">{{
                                                        tk.categoryName }}</option>
                                                </select>
                                                <div *ngIf="isInvalid"><span style="color: red;">Please fill required field</span></div>
                                                <label class="st-label" *ngIf="isRoute">Process Function<span style="color: red;">*</span></label>
                                                <select class="form-control" id="assetProcessFunctionId" *ngIf="isRoute"
                                                    [(ngModel)]="this.assetProcessFunctionId"
                                                    [ngModelOptions]="{standalone: true}"
                                                    (change)="processFunctionOnSelect($event)" style="font-size: 12px;">
                                                    <option value=""></option>
                                                    <option *ngFor="let tk of processFunctionTaxonomyList" [value]="tk.id">{{
                                                        tk.processFunction }}</option>
                                                </select>
                                                <div *ngIf="isInvalid && isRoute"><span style="color: red;">Please fill required field</span></div>
                                            </div>
                                            
                                            <div class="col-3">
                                                <input type="checkbox" class="form-check-input" (change)="isCheckRoute($event)" style="margin-top: 30px;">
                                                <label class="form-check-label" for="exampleCheck1" style="margin-top: 28px;">Check for route PM</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Component Level 3</label>
                                        <select class="form-control" id="componentLevel3Id"
                                            [(ngModel)]="this.componentLevel3Id"
                                            [ngModelOptions]="{standalone: true}" (change)="componentLevel3OnSelect($event)"
                                            style="font-size: 12px;" [disabled]="isDisableLevel3">
                                            <option value=""></option>
                                            <option *ngFor="let tk of componentLevel3List" [value]="tk.id">{{
                                                tk.categoryName }}</option>
                                        </select>
                                    </div>                                            
                                    <div class="form-group">
                                        <label class="st-label">Component Family</label>
                                        <select class="form-control" id="componentFamilyId"
                                            [(ngModel)]="this.componentFamilyId" [ngModelOptions]="{standalone: true}"
                                            (change)="componentFamilyOnSelect($event)" style="font-size: 12px;" [disabled]="isDisableRoute">
                                            <option value=""></option>
                                            <option *ngFor="let tk of componentFamilyTaxonomyList" [value]="tk.id">{{
                                                tk.familyComponent }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group">
                                        <label class="st-label">Component Sub Class</label>
                                        <select class="form-control" id="componentSubClassId" [(ngModel)]="this.componentSubClassId"
                                            [ngModelOptions]="{standalone: true}" (change)="componentSubClassOnSelect($event)"
                                            style="font-size: 12px;" [disabled]="isDisableRoute">
                                            <option value=""></option>
                                            <option *ngFor="let sc of componentSubClassTaxonomyList" [value]="sc.id">{{
                                                sc.subClass }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Work Instruction Task Type<span style="color: red;">*</span></label>
                                        <select class="form-control" id="taskType" [(ngModel)]="this.taskTypeId"
                                            [ngModelOptions]="{standalone: true}" (change)="taskTypeOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of taskTypeList" [value]="tk.id">{{
                                                tk.taskTypeName }}</option>
                                        </select>
                                        <div *ngIf="isInvalid"><span style="color: red;">Please fill required field</span></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Component Level 2</label>
                                        <select class="form-control" id="componentLevel2Id"
                                            [(ngModel)]="this.componentLevel2Id"
                                            [ngModelOptions]="{standalone: true}" (change)="componentLevel2OnSelect($event)"
                                            style="font-size: 12px;" [disabled]="isDisableLevel2">
                                            <option value=""></option>
                                            <option *ngFor="let tk of componentLevel2List" [value]="tk.id">{{
                                                tk.categoryName }}</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="st-label">Operational Mode<span style="color: red;">*</span></label>
                                        <select class="form-control" id="operationalModeId"
                                            [(ngModel)]="this.operationalModeId" [ngModelOptions]="{standalone: true}"
                                            (change)="operationalModeOnSelect($event)" style="font-size: 12px;" required>
                                            <option value=""></option>
                                            <option *ngFor="let tk of operationModeList" [value]="tk.id">{{
                                                tk.operationalModeName }}</option>
                                        </select>
                                        <div *ngIf="isInvalid"><span style="color: red;">Please fill required field</span></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Task Group Description</label>
                                        <input type="text" class="form-control"
                                            [(ngModel)]="this.frequency + ' ' + this.tradeType + ' ' + this.className +  ' ' + processfunction + ' ' + this.componentLevel2name + ' ' + this.componentLevel3name + ' ' + this.componentfamily + ' ' + this.componentsubclass + ' ' + this.taskType + ' ' + this.operationalmode"
                                            disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
             <div class="row">
                 <div class="col">
                    <div class="card">
                        <div class="card-body">
                          <h6 class="card-title">Asset Meta Data</h6>
                           <div class="row">
                               <div class="col-4">
                                    <div class="form-group">
                                        <label class="st-label">Industry</label>
                                        <select class="form-control" id="assetIndustryId"
                                            [(ngModel)]="this.assetIndustryId" [ngModelOptions]="{standalone: true}"
                                            (change)="industryOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of industryTaxonomyList" [value]="tk.id">{{
                                                tk.industryName }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Asset Class</label>
                                        <select class="form-control" id="assetClassId"
                                            [(ngModel)]="this.assetClassId"
                                            [ngModelOptions]="{standalone: true}" (change)="assetClassOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of assetClassList" [value]="tk.id">{{
                                                tk.categoryName }}</option>
                                        </select>
                                    </div>
                               </div>
                               <div class="col-4">
                                    <div class="form-group">
                                        <label class="st-label">Business Type</label>
                                        <select class="form-control" id="assetBusinessTypeId"
                                            [(ngModel)]="this.assetBusinessTypeId" [ngModelOptions]="{standalone: true}"
                                            (change)="businessTypeOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of businessTypeTaxonomyList" [value]="tk.id">{{
                                                tk.businessType }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Asset Specification</label>
                                        <select class="form-control" id="assetSpecTaxonomyId"
                                            [(ngModel)]="this.assetSpecTaxonomyId" [ngModelOptions]="{standalone: true}"
                                            (change)="assetSpecOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of assetSpecTaxonomyList" [value]="tk.id">{{
                                                tk.specification }}</option>
                                        </select>
                                    </div>
                               </div>
                               <div class="col-4">
                                    <div class="form-group">
                                        <label class="st-label">Process Function</label>
                                        <select class="form-control" id="assetProcessFunctionId"
                                            [(ngModel)]="this.assetProcessFunctionId"
                                            [ngModelOptions]="{standalone: true}"
                                            (change)="processFunctionOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of processFunctionTaxonomyList" [value]="tk.id">{{
                                                tk.processFunction }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="st-label">Asset Manufacturer</label>
                                        <select class="form-control" id="assetManufacturerId"
                                            [(ngModel)]="this.assetManufacturerId" [ngModelOptions]="{standalone: true}"
                                            (change)="assetManufacturerOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of assetManufacturerTaxonomyList" [value]="tk.id">{{
                                                tk.assetManufacturer }}</option>
                                        </select>
                                    </div>
                               </div>
                           </div>
                        </div>
                    </div>
                 </div>
             </div>
             <div style="float: right; margin-top: 10px; margin-bottom: 10px; margin-right: 10px;"><button type="button" class="btn btn-primary"
                (click)="saveNext()" style="font-size: 12px;">Next</button></div>
        </mat-tab>
        <mat-tab label="Assign Component Tasks" [(activeId)]="activeId">
            <br>
            <div id="parent">
                <div id="LeftCol" *ngIf="isMax">
                    <button type="button" class="btn btn-link" style="position: absolute; margin-left: 120px; margin-top: -10px;" (click)="toggleMin()" placement="right" ngbTooltip="Minimize display">
                        <fa-icon [icon]="['fas', 'caret-square-left']" style="color: #000000;"></fa-icon>
                    </button>
                    <h6 class="st-label" style="margin-top: 5px; background: #fff;">Component Hierarchy</h6>
                    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
                        <!-- This is the tree node template for leaf nodes -->
                        <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
                            <!-- use a disabled button to provide padding for tree leaf -->
                            <button mat-icon-button disabled></button>
                            <button type="button" class="btn btn-link" style=" color: black; font-size: 12px;"
                                (click)="nodeClick(node.id)">{{node.name}}</button>
                        </mat-tree-node>
                        <!-- This is the tree node template for expandable nodes -->
                        <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>
                            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name">
                                <mat-icon class="mat-icon-rtl-mirror">
                                    {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                                </mat-icon>
                            </button>
                            <button type="button" class="btn btn-link" style=" color: black; font-size: 12px;"
                                (click)="nodeClick(node.id)">{{node.name}}</button>
                        </mat-tree-node>
                    </mat-tree>
                </div>
                <div id="LeftCol2" *ngIf="isMin">
                    <button type="button" class="btn btn-link" style="margin-left: -5px; margin-bottom: 10px;" (click)="toggleMax()" placement="right" ngbTooltip="Maximize display">
                        <fa-icon [icon]="['fas', 'caret-square-right']" style="color: #000000;"></fa-icon>
                      </button>
                </div>
                <div id="RightCol">
                    <div class="panel-body2">
                        <span class="text-gray-500 text-small">FMEA Task List</span>
                        <button type="button" class="btn btn-primary" (click)="saveNextComponent()"
                            style="font-size: 12px; margin-top: -10px; float: right;">Next</button>
                            <mat-icon style="float: right; margin-right: 20px;"><button (click)="toggleColumn()" placement="left" ngbTooltip="Custom Table Display" #tableColumn style="background: transparent; border: none;">settings</button></mat-icon>
                        <div class="position-absolute card shadow" style=" right:20px; width:378px !important; z-index: 1; padding: 10px; margin-top: -5px;"
                        fadeInOut [hidden]="!this.displayTableColumn">
                        <div ><button type="button" style="float: right; position: relative; border:none; background: transparent;" (click)="unToggleColumn()"><fa-icon [icon]="['fas', 'times']"></fa-icon></button></div>
                            <span style="font-size: small; font-weight: bold;">Table Columns</span>
                            <br>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableTaskId" (change)="addColumnTaskId()">&nbsp; Task Id
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableParent" (change)="addColumnParent()">&nbsp; Parent
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableFailureMode" (change)="addColumnFailureMode()">&nbsp; Failure Mode
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableTaskDesc" (change)="addColumnTaskDesc()">&nbsp; Task Description
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableFailureScore" (change)="addColumnFailureScore()">&nbsp; Failure Risk Score
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableLimits" (change)="addColumnAcceptableLimits()">&nbsp; Acceptable Limits
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableCorrective" (change)="addColumnCorrectiveActions()">&nbsp; Corrective Actions
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableTaskType" (change)="addColumnTaskType()">&nbsp; Task Type
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableInterval" (change)="addColumnFrequency()">&nbsp; Interval
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableFamily" (change)="addColumnFamily()">&nbsp; Component Family
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableClass" (change)="addColumnClass()">&nbsp; Component Class
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableSubClass" (change)="addColumnSubClass()">&nbsp; Component Sub Class
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableBuildSpec" (change)="addColumnBuildSpec()">&nbsp; Component Build Spec
                                    </div>
                                    <div class="form-group check-column">
                                        <input type="checkbox" [(ngModel)]="tableManufacturer" (change)="addColumnManufacturer()">&nbsp; Component Manufacturer
                                    </div>
                                </div>
                            </div>
                        </div>
                        <mat-icon style="float: right; margin-right: 30px;"><button placement="left" ngbTooltip="Multi Filter" (click)="toggleFilter()" #multiFilter style="background: transparent; border: none;">filter_list</button></mat-icon>
                        <div class="position-absolute card shadow" style=" right:20px; width:600px !important; z-index: 4; padding: 10px; margin-top: -5px;"
                            fadeInOut [hidden]="!this.displayMultiFilter">
                            <div ><button type="button" style="float: right; position: relative; border:none; background: transparent;" (click)="untoggleFilter()"><fa-icon [icon]="['fas', 'times']"></fa-icon></button></div>
                            <span style="font-size: small; font-weight: bold;">Search Filter</span>
                            <br>
                            <div class="row">
                                <div class="col-4">
                                    <div class="form-group">
                                        <span class="st-label">Component Level 1</span>
                                        <select class="form-control" id="assetClassTaxonomyId"
                                            [(ngModel)]="this.componentLevel1filter"
                                            [ngModelOptions]="{standalone: true}" (change)="ComponentLevel1FilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of componentLevel1FilterList" [value]="tk.id">{{
                                                tk.categoryName }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-group">
                                        <span class="st-label">Component Level 2</span>
                                        <select class="form-control" id="componentLevel2Id"
                                            [(ngModel)]="this.componentLevel2filter"
                                            [ngModelOptions]="{standalone: true}" (change)="componentLevel2FilterOnSelect($event)"
                                            style="font-size: 12px;" [disabled]="isDisableLevel2">
                                            <option value=""></option>
                                            <option *ngFor="let tk of componentLevel2FilterList" [value]="tk.id">{{
                                                tk.categoryName }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-group">
                                        <span class="st-label">Component Level 3</span>
                                        <select class="form-control" id="componentLevel3Id"
                                            [(ngModel)]="this.componentLevel3filter"
                                            [ngModelOptions]="{standalone: true}" (change)="componentLevel3FilterOnSelect($event)"
                                            style="font-size: 12px;" [disabled]="isDisableLevel3">
                                            <option value=""></option>
                                            <option *ngFor="let tk of componentLevel3FilterList" [value]="tk.id">{{
                                                tk.categoryName }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <span class="st-label">Component Family</span>
                                        <select class="form-control" id="componentFamilyId"
                                            [(ngModel)]="this.familyFilter" [ngModelOptions]="{standalone: true}"
                                            (change)="componentFamilyFilterOnSelect($event)" style="font-size: 12px;" [disabled]="isDisableRoute">
                                            <option value=""></option>
                                            <option *ngFor="let tk of familyFilterList" [value]="tk.id">{{
                                                tk.familyComponent }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Component Sub Class</span>
                                        <select class="form-control" id="componentSubClassId" [(ngModel)]="this.subClassFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="componentSubClassFilterOnSelect($event)"
                                            style="font-size: 12px;" [disabled]="isDisableRoute">
                                            <option value=""></option>
                                            <option *ngFor="let sc of subClassFilterList" [value]="sc.id">{{
                                                sc.subClass }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Component Manufacturer</span>
                                        <select class="form-control" id="componentManufacturerId" [(ngModel)]="this.manufacturerFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="componentManufacturerFilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let cm of manufacturerFilterList" [value]="cm.id">{{
                                                cm.componentManufacturer }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Operational Mode</span>
                                        <select class="form-control" id="operationalModeId"
                                            [(ngModel)]="this.operationalModeFilter" [ngModelOptions]="{standalone: true}"
                                            (change)="operationalModeFilterOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of operationalModeFilterList" [value]="tk.id">{{
                                                tk.operationalModeName }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Trade Type</span>
                                        <select class="form-control" id="tradeTypeId" [(ngModel)]="this.tradeTypeFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="tradeTypeFilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of tradeTypeFilterList" [value]="tk.id">{{
                                                tk.tradeTypeName }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Failure Risk Score</span>
                                        <input type="text" class="form-control" [(ngModel)]="failureScoreTotal">
                                    </div>
                                </div>
                                    
                                <div class="col-6">
                                    <div class="form-group">
                                        <span class="st-label">Component Class</span>
                                        <select class="form-control" id="componentClass"
                                            [(ngModel)]="this.classFilter" [ngModelOptions]="{standalone: true}"
                                            (change)="componentClassFilterOnSelect($event)" style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of classFilterList" [value]="tk.id">{{
                                                tk.componentClass }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Component Build Spec</span>
                                        <select class="form-control" id="componentBuildSpecId" [(ngModel)]="this.buildSpecFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="componentBuildSpecFilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let bs of buildSpecFilterList" [value]="bs.id">{{
                                                bs.buildSpec }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Task Type</span>
                                        <select class="form-control" id="taskType" [(ngModel)]="this.taskTypeFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="taskTypeFilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of taskTypeFilterList" [value]="tk.id">{{
                                                tk.taskTypeName }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Frequency</span>
                                        <select class="form-control" id="frequencyId" [(ngModel)]="this.frequencyFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="frequencyFilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of frequencyFilterList" [value]="tk.id">{{
                                                tk.frequencyName }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <span class="st-label">Duration</span>
                                        <select class="form-control" id="durationId" [(ngModel)]="this.durationFilter"
                                            [ngModelOptions]="{standalone: true}" (change)="durationFilterOnSelect($event)"
                                            style="font-size: 12px;">
                                            <option value=""></option>
                                            <option *ngFor="let tk of durationFilterList" [value]="tk.id">{{
                                                tk.durationName }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <button class="btn btn-primary lg active" style="float: right; font-size: 12px; margin-top: 15px;" (click)="multisearchFilter()"> Filter </button>
                                        <button class="btn btn-outline-primary" style="float: right; font-size: 12px; margin-right:10px; margin-top: 15px;" (click)="clearFilter()"> Clear </button>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    <div class="table-responsive-sm" style="height: 250px; overflow-y: scroll; overflow-x: hidden;">
                        <table mat-table [dataSource]="dataSource2" matSort style="margin: 10px;">

                            <ng-container matColumnDef="isAdd">
                              <th mat-header-cell *matHeaderCellDef> </th>
                              <td mat-cell *matCellDef="let element"> 
                                <input type="checkbox" [checked]="element.isAdd"
                                (change)="addFMEATask($event, element.id)">
                              </td>
                            </ng-container>
              
                            <ng-container matColumnDef="taskIdentificationNo">
                                <th mat-header-cell *matHeaderCellDef> Task ID </th>
                                <td mat-cell *matCellDef="let element">
                                    <a class="btn btn-link" [routerLink]="['/main/fmea-edit/', element.id]" target="_blank" style="font-size: 11px;">{{element.taskIdentificationNo}}</a>
                                    <!-- <button type="button" class="btn btn-link" (click)="goToFMEAEdit(element.id)" style="font-size: 11px;">{{element.taskIdentificationNo}}</button> -->
                                </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="parentCode">
                                <th mat-header-cell *matHeaderCellDef> Parent </th>
                                <td mat-cell *matCellDef="let element"> {{element.parentCode}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="familyComponent">
                              <th mat-header-cell *matHeaderCellDef> Family </th>
                              <td mat-cell *matCellDef="let element"> {{element.familyComponent}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="componentClass">
                              <th mat-header-cell *matHeaderCellDef> Class </th>
                              <td mat-cell *matCellDef="let element"> {{element.componentClass}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="subClass">
                              <th mat-header-cell *matHeaderCellDef> Sub Class </th>
                              <td mat-cell *matCellDef="let element"> {{element.subClass}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="buildSpec">
                              <th mat-header-cell *matHeaderCellDef> BuildSpec </th>
                              <td mat-cell *matCellDef="let element"> {{element.buildSpec}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="componentManufacturer">
                              <th mat-header-cell *matHeaderCellDef> Manufacturer </th>
                              <td mat-cell *matCellDef="let element"> {{element.componentManufacturer}} </td>
                            </ng-container>
              
                            <ng-container matColumnDef="failureMode">
                              <th mat-header-cell *matHeaderCellDef> Failure Mode </th>
                              <td mat-cell *matCellDef="let element">{{element.failureMode}} </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="taskDescription">
                                <th mat-header-cell *matHeaderCellDef> Task Description </th>
                                <td mat-cell *matCellDef="let element"> {{element.taskDescription}} </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="failureRiskTotalScore">
                                <th mat-header-cell *matHeaderCellDef> Failure Risk Score </th>
                                <td mat-cell *matCellDef="let element"> {{element.failureRiskTotalScore}} </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="acceptableLimits">
                                <th mat-header-cell *matHeaderCellDef> Acceptable Limits </th>
                                <td mat-cell *matCellDef="let element"> {{element.acceptableLimits}} </td>
                            </ng-container>
              
                            <ng-container matColumnDef="correctiveActions">
                              <th mat-header-cell *matHeaderCellDef> Corrective Action </th>
                              <td mat-cell *matCellDef="let element"> {{element.correctiveActions}} </td>
                            </ng-container>
          
                            <ng-container matColumnDef="taskTypeName">
                              <th mat-header-cell *matHeaderCellDef> Task Type </th>
                              <td mat-cell *matCellDef="let element"> {{element.taskTypeName}} </td>
                            </ng-container>
          
                            <ng-container matColumnDef="frequencyName">
                              <th mat-header-cell *matHeaderCellDef> Interval </th>
                              <td mat-cell *matCellDef="let element"> {{element.frequencyName}} </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                        <!-- <mat-paginator #tableOnePaginator [pageSizeOptions]="[5, 10, 25, 50, 100, 500, 1000]" showFirstLastButtons>
                        </mat-paginator> -->
                    </div>
                    <span class="text-gray-500 text-small">Selected FMEA Tasks</span>
                    <div class="table-responsive-sm" style="padding-top: 10px; overflow-y: scroll; overflow-x: hidden;">
                        <table mat-table [dataSource]="dataSource3" matSort style="margin: 10px;">
              
                            <ng-container matColumnDef="taskIdentificationNo">
                                <th mat-header-cell *matHeaderCellDef> Task ID </th>
                                <td mat-cell *matCellDef="let element">
                                    <a class="btn btn-link" [routerLink]="['/main/fmea-edit/', element.id]" target="_blank" style="font-size: 11px;">{{element.taskIdentificationNo}}</a>
                                    <!-- <button type="button" class="btn btn-link" (click)="goToFMEAEdit(element.id)" style="font-size: 11px;">{{element.taskIdentificationNo}}</button> -->
                                </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="parentCode">
                                <th mat-header-cell *matHeaderCellDef> Parent </th>
                                <td mat-cell *matCellDef="let element"> {{element.parentCode}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="familyComponent">
                              <th mat-header-cell *matHeaderCellDef> Family </th>
                              <td mat-cell *matCellDef="let element"> {{element.familyComponent}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="componentClass">
                              <th mat-header-cell *matHeaderCellDef> Class </th>
                              <td mat-cell *matCellDef="let element"> {{element.componentClass}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="subClass">
                              <th mat-header-cell *matHeaderCellDef> Sub Class </th>
                              <td mat-cell *matCellDef="let element"> {{element.subClass}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="buildSpec">
                              <th mat-header-cell *matHeaderCellDef> BuildSpec </th>
                              <td mat-cell *matCellDef="let element"> {{element.buildSpec}} </td>
                            </ng-container>
      
                            <ng-container matColumnDef="componentManufacturer">
                              <th mat-header-cell *matHeaderCellDef> Manufacturer </th>
                              <td mat-cell *matCellDef="let element"> {{element.componentManufacturer}} </td>
                            </ng-container>
              
                            <ng-container matColumnDef="failureMode">
                              <th mat-header-cell *matHeaderCellDef> Failure Mode </th>
                              <td mat-cell *matCellDef="let element">{{element.failureMode}} </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="taskDescription">
                                <th mat-header-cell *matHeaderCellDef> Task Description </th>
                                <td mat-cell *matCellDef="let element"> {{element.taskDescription}} </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="failureRiskTotalScore">
                                <th mat-header-cell *matHeaderCellDef> Failure Risk Score </th>
                                <td mat-cell *matCellDef="let element"> {{element.failureRiskTotalScore}} </td>
                            </ng-container>
                    
                            <ng-container matColumnDef="acceptableLimits">
                                <th mat-header-cell *matHeaderCellDef> Acceptable Limits </th>
                                <td mat-cell *matCellDef="let element"> {{element.acceptableLimits}} </td>
                            </ng-container>
              
                            <ng-container matColumnDef="correctiveActions">
                              <th mat-header-cell *matHeaderCellDef> Corrective Action </th>
                              <td mat-cell *matCellDef="let element"> {{element.correctiveActions}} </td>
                            </ng-container>
          
                            <ng-container matColumnDef="taskTypeName">
                              <th mat-header-cell *matHeaderCellDef> Task Type </th>
                              <td mat-cell *matCellDef="let element"> {{element.taskTypeName}} </td>
                            </ng-container>
          
                            <ng-container matColumnDef="frequencyName">
                              <th mat-header-cell *matHeaderCellDef> Interval </th>
                              <td mat-cell *matCellDef="let element"> {{element.frequencyName}} </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>
                        </table>
                    </div>
                </div>
            </div>
        </mat-tab>
        <!-- <mat-tab label="Sequence Component Tasks within Strategy" [(activeId)]="activeId">
            <br>
            <div class="panel-body2">
                <button type="button" class="btn btn-primary" (click)="saveNextComponent3()"
                    style="font-size: 12px; float: right;">Next</button>
            </div>
            <div style="background: #eeeded;">
                <div class="table-responsive" style="padding-top: 10px; margin: 0 10px; width: 98%;">
                    <table mat-table #table [dataSource]="dataSource3" class="mat-elevation-z8" cdkDropList
                        [cdkDropListData]="dataSource3" (cdkDropListDropped)="dropTable($event)">
                
                        <ng-container matColumnDef="sequenceNo">
                            <th mat-header-cell *matHeaderCellDef> Sequence No. </th>
                            <td mat-cell *matCellDef="let element"> {{element.sequenceNo}}
                            </td>
                        </ng-container>
                
                        <ng-container matColumnDef="taskIdentificationNo">
                            <th mat-header-cell *matHeaderCellDef> Task Id </th>
                            <td mat-cell *matCellDef="let element"><button type="button"
                                class="btn btn-link" (click)="goToFMEAEdit(element.id)"
                                style="font-size: 11px;">{{element.taskIdentificationNo}}</button></td>
                        </ng-container>
                
                        <ng-container matColumnDef="taskDescription">
                            <th mat-header-cell *matHeaderCellDef> Task Description </th>
                            <td mat-cell *matCellDef="let element"> {{element.taskDescription}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="acceptableLimits">
                            <th mat-header-cell *matHeaderCellDef> Acceptable Limits </th>
                            <td mat-cell *matCellDef="let element"> {{element.acceptableLimits}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="correctiveActions">
                            <th mat-header-cell *matHeaderCellDef> Corrective Actions </th>
                            <td mat-cell *matCellDef="let element"> {{element.correctiveActions}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="taskTypeName">
                            <th mat-header-cell *matHeaderCellDef> Task Type </th>
                            <td mat-cell *matCellDef="let element">{{ element.taskTypeName}}</td>
                        </ng-container>
                
                        <ng-container matColumnDef="frequencyName">
                            <th mat-header-cell *matHeaderCellDef> Interval </th>
                            <td mat-cell *matCellDef="let element">{{ element.frequencyName}}</td>
                        </ng-container>
                
                        <ng-container matColumnDef="noRecord">
                            <td class="border-none text-center mx-auto" mat-footer-row *matFooterCellDef colspan=8>
                
                                <img src="./../../../../assets/images/empty-cabinet-with-checkmark.png"
                                    alt="Folder with magnifying glass" class="mb-2 mt-4" *ngIf="default2">
                                <img src="./../../../../assets/images/empty-cabinet-with-checkmark.png"
                                    alt="Folder with no results" class="mb-2 mt-4" *ngIf="!default2">
                                <br>
                                <span class="text-gray-500 text-base" *ngIf="default2">No records displayed.</span>
                                <span class="text-gray-500 text-base" *ngIf="!default2">No records displayed.</span>
                
                            </td>
                        </ng-container>
                
                        <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                        <tr mat-footer-row *matFooterRowDef="['noRecord']"
                            [ngClass]="{'hide':!(ELEMENT_DATA_4!=null && ELEMENT_DATA_4.length==0 && !loading)}">
                        </tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns2;" cdkDrag [cdkDragData]="row">
                        </tr>
                    </table>
                </div>
            </div>
        </mat-tab> -->
        <mat-tab label="Assign Tasks to Multiple Equipment" [(activeId)]="activeId">
            <br>
            <div id="parent">
                <div class="LeftCol">
                    <h6 style="font-size: 14px; text-align: center;">Task Group Strategy Details</h6>
                    <hr>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Task Strategy Group Id:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{ this.taskGpStrategyId }}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Task Description:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{ this.frequency + ' ' + this.tradeType + ' ' + this.className +  ' ' + processfunction + ' ' + this.componentLevel2name + ' ' + this.componentLevel3name + ' ' + this.componentfamily + ' ' + this.componentsubclass + ' ' + this.taskType + ' ' + this.operationalmode }}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Trade Type:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{tradeType}}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Taxonomy:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{componentfamily}}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Operational Mode:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{operationalmode}}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Interval:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{frequency}}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Failure Risk Score:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{failureScore}}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Task Type:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{taskType}}</span></h6>
                    </div>
                    <div class="form-group">
                        <h6 style="font-size: 12px;">Duration:<span class="text-gray-500 text-small" style="padding-left: 10px; font-size: 11px;">{{durationName}}</span></h6>
                    </div>
                </div>
                <div class="RightCol">
                    <div class="rightBody">
                        <div class="form-group" style="float: right; padding: 10px;">
                            <button type="button" class="btn btn-primary active" style="font-size: 11px; border-color: #e9ecef; z-index: -1;" (click)="openDialogComment('SiteTGS')" *ngIf="isContainer || isContainer2" [disabled]="isSave">Save All Changes</button> &nbsp;
                            <button type="button" class="btn btn-light" style="font-size: 11px; border-color: #e9ecef; z-index: -1;" (click)="openAddWIN('add', this.tempTaskId)">Add New FLOC</button>
                            <!-- <button type="button" class="btn btn-light" style="font-size: 11px; border-color: #e9ecef; z-index: -1;" (click)="openAddFloc('add', this.tempTaskId)">Add New FLOC</button> -->
                        </div>
                        <div>
                            <h6 style="font-size: 14px; padding: 10px;">Task Assignment</h6>
                        </div>
                    </div>

                    <!--Testing Layout-->
                    <div id="content" *ngIf="taskTempList.length > 0 || containerTask2.length > 0">
                        <div *ngIf="isContainer">
                            <div id="contentInside" *ngFor="let container of taskTempList">
                                <div class="card">
                                    <div class="card-header" style="height: 15px;" >
                                        <div class="form-group" style="float:right; position: relative;">
                                            <button type="button" style="font-size: 10px; margin-top: -20px; background:transparent; border: none;" (click)="deleteTaskByHierarchy(container.Component, container.Id)"><mat-icon style="color: red; outline-color: black; font-size: 20px;">delete</mat-icon></button>
                                        </div>
                                        <p style="margin-top: -7px; font-weight: 700;">{{ container.Component }}</p>
                                    </div>
                                </div>
                                <div cdkDropListGroup>
                                    <div class="example-container">
                                      <div
                                        cdkDropList
                                        [cdkDropListData]="container.Material"
                                        class="example-list"
                                        (cdkDropListDropped)="drop($event)">
                                        <div class="example-box" *ngFor="let containertask of container.Material; let i = index;" cdkDrag>
                                            <div class="col-3">
                                                <p class="p-class"><b>Task Name</b></p>
                                                <p class="p-class">{{i + 1}}. {{ containertask.TaskDescription}}</p>
                                            </div>
                                            <div class="col-4">
                                                <p class="p-class"><b>Acceptable Limits</b></p>
                                                <p class="p-class">{{ containertask.AcceptableLimits}}</p>
                                            </div>
                                            <div class="col-4">
                                                <p class="p-class"><b>Corrective Actions</b></p>
                                                <p class="p-class">{{ containertask.CorrectiveActions}}</p>
                                            </div>
                                            <div class="col-1">
                                                <span class="p-class"><b>Image</b> <br><img src="./../../../../assets/images/default-no-image.jpg" height="50" width="50" style="border:1px solid gray;"></span>
                                            </div>
                                            <hr>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="isContainer2">
                            <div id="contentInside" *ngFor="let tasklist of containerTask2">
                                <div class="card">
                                    <div class="card-header" style="height: 15px;">
                                        <div class="form-group" style="float:right; position: relative;">
                                            <button type="button" style="font-size: 10px; margin-top: -20px; background:transparent; border: none;" (click)="deleteComponentByTask(tasklist.TaskId)"><mat-icon style="color: red; outline-color: black; font-size: 20px;">delete</mat-icon></button>
                                        </div>
                                    </div>
                                    <div class="card-body" >
                                        <div class="row">
                                            <div class="col-3">
                                                <p><b>Task Name</b></p>
                                                <p>{{tasklist.TaskDescription}}</p>
                                            </div>
                                            <div class="col-3">
                                                <p><b>Acceptable Limits</b></p>
                                                <p>{{tasklist.AcceptableLimits}}</p>
                                            </div>
                                            <div class="col-3">
                                                <p><b>Corrective Actions</b></p>
                                                <p>{{tasklist.CorrectiveActions}}</p>
                                            </div>
                                            <div class="col-3">
                                                <span><b>Image</b> <br><img src="./../../../../assets/images/default-no-image.jpg" height="50" width="50" style="border:1px solid gray;"></span>
                                            </div>
                                            <hr>
                                        </div>
                                        <table>
                                            <tr *ngFor="let components of tasklist.Material">
                                                <td style="width: 60%; font-size: 11px; border: solid 1px black; color: black;"><p>{{components.FamilyComponent}}</p></td>
                                                <td style="width: 40%; font-size: 11px; border: solid 1px black; color: black;">Comments:</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div id="content" *ngIf="taskTempList.length > 0 || containerTask2.length > 0">
                        <div *ngIf="isContainer">
                            <div id="contentInside" *ngFor="let container of taskTempList">
                                <div class="card">
                                    <div class="card-header" style="height: 15px;" >
                                        <div class="form-group" style="float:right; position: relative;">
                                            <button type="button" style="font-size: 10px; margin-top: -20px; background:transparent; border: none;" (click)="deleteTaskByHierarchy(container.Component, container.Id)"><mat-icon style="color: red; outline-color: black; font-size: 20px;">delete</mat-icon></button>
                                        </div>
                                        <p style="margin-top: -7px; font-weight: 700;">{{ container.Component }}</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="row" *ngFor="let containertask of container.Material">
                                            <div class="col-3">
                                                <p><b>Task Name</b></p>
                                                <p>{{ containertask.TaskDescription}}</p>
                                            </div>
                                            <div class="col-3">
                                                <p><b>Acceptable Limits</b></p>
                                                <p>{{containertask.AcceptableLimits}}</p>
                                            </div>
                                            <div class="col-3">
                                                <p><b>Corrective Actions</b></p>
                                                <p>{{containertask.CorrectiveActions}}</p>
                                            </div>
                                            <div class="col-3">
                                                <span><b>Image</b> <br><img src="./../../../../assets/images/default-no-image.jpg" height="50" width="50" style="border:1px solid gray;"></span>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="isContainer2">
                            <div id="contentInside" *ngFor="let tasklist of containerTask2">
                                <div class="card">
                                    <div class="card-header" style="height: 15px;">
                                        <div class="form-group" style="float:right; position: relative;">
                                            <button type="button" style="font-size: 10px; margin-top: -20px; background:transparent; border: none;" (click)="deleteComponentByTask(tasklist.TaskId)"><mat-icon style="color: red; outline-color: black; font-size: 20px;">delete</mat-icon></button>
                                        </div>
                                    </div>
                                    <div class="card-body" >
                                        <div class="row">
                                            <div class="col-3">
                                                <p><b>Task Name</b></p>
                                                <p>{{tasklist.TaskDescription}}</p>
                                            </div>
                                            <div class="col-3">
                                                <p><b>Acceptable Limits</b></p>
                                                <p>{{tasklist.AcceptableLimits}}</p>
                                            </div>
                                            <div class="col-3">
                                                <p><b>Corrective Actions</b></p>
                                                <p>{{tasklist.CorrectiveActions}}</p>
                                            </div>
                                            <div class="col-3">
                                                <span><b>Image</b> <br><img src="./../../../../assets/images/default-no-image.jpg" height="50" width="50" style="border:1px solid gray;"></span>
                                            </div>
                                            <hr>
                                        </div>
                                        <table>
                                            <tr *ngFor="let components of tasklist.Material">
                                                <td style="width: 60%; font-size: 11px; border: solid 1px black; color: black;"><p>{{components.FamilyComponent}}</p></td>
                                                <td style="width: 40%; font-size: 11px; border: solid 1px black; color: black;">Comments:</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <!--End Testing Layout-->

                    <!-- <div id="content" *ngIf="this.containers.length > 0">
                        <div id="contentInside" *ngFor="let container of taskTempList">
                            <div class="taskgroupHeader">
                                <div style="margin:10px;" >
                                    <div class="row">
                                        <div class="col-md-10">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p style="font-size: 12px; font-weight: 500;">{{ container.Code + ' ' + container.Description }}</p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-2">
                                            <div class="form-group" style="z-index: 1; float: right; top: 10px;">
                                                <button type="button" style="font-size: 10px; margin-top: -20px; background:transparent; border: none;" (click)="deleteTaskByHierarchy(container.Code + ' ' + container.Description, container.Id)"><mat-icon style="color: red; outline-color: black;">delete</mat-icon></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="taskgroup" *ngFor="let taskListEquipment of container.Material">
                                <hr style="height:1px;border-width:0;color:gray;background-color:gray; margin-top: 30px;">
                                <div class="row">
                                    <p style="font-size: 12px; font-weight: 500; padding: 10px; margin-left: 10px;">Task ID: <span style="color:#007bff">{{ taskListEquipment.TaskIdentificationNo }}</span></p>
                                </div>
                                <div style="margin:-20px 10px 10px 10px;">
                                    <div class="row">
                                        <div class="col-md-3" style="border: 1px solid gray;">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <p style="font-size: 11px; font-weight: 500;">Task Description:</p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <p style="font-size: 11px;">{{taskListEquipment.TaskDescription}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3" style="border: 1px solid gray;">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <p style="font-size: 11px; font-weight: 500;">Acceptable Limits:</p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <p style="font-size: 11px;">{{ taskListEquipment.AcceptableLimits }}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3" style="border: 1px solid gray;">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <p style="font-size: 11px; font-weight: 500;">Corrective Actions:</p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <p style="font-size: 11px;">{{taskListEquipment.CorrectiveActions}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3" style="border: 1px solid gray;">
                                            <p style="font-size: 11px; font-weight: 500;">Image</p>
                                            <div class="row">
                                                <div class="col-8">
                                                    <div style="border:1px solid #eee; height: 100px; width: 100px; margin-bottom: 10px;">
                                                        <span *ngIf="taskListEquipment.Filenames === ''"><img src="./../../../../assets/images/default-no-image.jpg" height="100" width="100" style="border:1px solid gray;" (click)="fileInput.click(); uploadImageById(taskListEquipment.Id)"></span>
                                                        <span *ngIf="taskListEquipment.Filenames !== ''"><img [src]="this.assignAssetTaskGroupMaterial.fileName" height="100" width="100" style="border:1px solid gray;"></span>
                                                    </div>
                                                </div>
                                                <div class="col-3">
                                                    <button type="button" (click)="fileInput.click(); uploadImageById(taskListEquipment.Id)" style="font-size: 10px; background: transparent; border: none;">
                                                        <span><mat-icon style="color: green; outline-color: black;">cloud_upload</mat-icon></span>
                                                        <input #fileInput type="file" (change)="uploadFile(fileInput.files, taskListEquipment.Id)" style="display:none;" />
                                                    </button>
                                                    <button type="button" style="font-size: 10px; background: transparent; border: none;"><mat-icon style="color: red; outline-color: black;" (click)="deleteMaterialImage(taskListEquipment.Id)" *ngIf="isImageSaved && taskListEquipment.Filenames !== ''">cancel</mat-icon></button>
                                                </div>
                                                <div class="col-1"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>